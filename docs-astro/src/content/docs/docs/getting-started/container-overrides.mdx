---
title: Container Overrides
---

# Container Overrides

:::note[Note]

This section is meant for those that are familiar with writing/modifying Docker Compose files or those that want more advanced control over specific container configs

:::

To persist custom Compose settings — such as environment variables, volume mounts, or other overrides — without modifying the generated Compose files, create a `docker-compose.override.yml` file at `/opt/hms-docker/docker-compose.override.yml` with only the settings you want to override or merge.

Documentation on how this works can be found here: [Merge | Docker Docs](https://docs.docker.com/compose/how-tos/multiple-compose-files/merge/)

:::warning

Only enabled containers can be specified in this file. If a disabled container is listed, Docker Compose will fail validation with an error. Remove any disabled containers from the override file to resolve.

:::

Here is a basic example of this file (assuming Sonarr, Radarr, and Plex are enabled) that will _not_ override any settings:

```yaml
# /opt/hms-docker/docker-compose.override.yml
services:
  sonarr:
  radarr:
  plex:
  ...
```

If you want to check the final Compose configuration after modification of the override file, you can run:

```bash
sudo docker compose config
```

## Private Internet Access (PIA)

The Deluge and qBittorrent containers have native support for the VPN provider Private Internet Access (PIA).

These containers also support port forwarding through PIA, but this means you will only be able to connect to endpoints that support port forwarding.

For more information on this port forwarding feature, see Question 15 (Q15) here: [Binhex Documentation](https://github.com/binhex/documentation/blob/master/docker/faq/vpn.md)

In order to enable this port forwarding, you will need to add the following to the "override" file specified above (`/opt/hms-docker/docker-compose.override.yml`):

```yaml
#/opt/hms-docker/docker-compose.override.yml
services:
  qbittorrent:
    environment:
      - VPN_PROV=pia
      - STRICT_PORT_FORWARDING=yes
  deluge:
    environment:
      - VPN_PROV=pia
      - STRICT_PORT_FORWARDING=yes
```
